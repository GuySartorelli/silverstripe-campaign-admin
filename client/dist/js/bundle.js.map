{"version":3,"sources":["webpack:///js/bundle.js","webpack:///webpack/bootstrap 12af928ec783e95cb33d","webpack:///./client/src/bundles/bundle.js","webpack:///./client/src/boot/index.js","webpack:///external \"ReactRouter\"","webpack:///external \"Config\"","webpack:///external \"ReducerRegister\"","webpack:///external \"ReactRouteRegister\"","webpack:///./client/src/containers/CampaignAdmin/CampaignAdmin.js","webpack:///external \"React\"","webpack:///external \"ReactRedux\"","webpack:///external \"ReduxForm\"","webpack:///external \"Redux\"","webpack:///external \"Backend\"","webpack:///external \"BreadcrumbsActions\"","webpack:///external \"Breadcrumb\"","webpack:///external \"SilverStripeComponent\"","webpack:///external \"FormAction\"","webpack:///external \"i18n\"","webpack:///external \"Toolbar\"","webpack:///external \"FormBuilderLoader\"","webpack:///./client/src/containers/CampaignAdmin/CampaignAdminList.js","webpack:///external \"RecordsActions\"","webpack:///./client/src/state/campaign/CampaignActions.js","webpack:///./client/src/state/campaign/CampaignActionTypes.js","webpack:///external \"RecordsActionTypes\"","webpack:///external \"Accordion\"","webpack:///external \"AccordionBlock\"","webpack:///external \"ListGroupItem\"","webpack:///./client/src/containers/CampaignAdmin/CampaignAdminItem.js","webpack:///external \"Preview\"","webpack:///./client/src/state/campaign/CampaignReducer.js","webpack:///./~/deep-freeze-strict/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_reactRouter","_Config","_Config2","_ReducerRegister","_ReducerRegister2","_ReactRouteRegister","_ReactRouteRegister2","_CampaignAdmin","_CampaignAdmin2","_CampaignReducer","_CampaignReducer2","document","addEventListener","sectionConfig","getSection","add","path","url","component","withRouter","childRoutes","ReactRouter","Config","ReducerRegister","ReactRouteRegister","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","mapStateToProps","state","ownProps","config","sections","find","section","name","sectionConfigKey","formID","form","campaignEditForm","schemaUrl","params","selector","_reduxForm","formValueSelector","title","campaignId","campaign","view","breadcrumbs","securityId","SecurityID","mapDispatchToProps","dispatch","breadcrumbsActions","_redux","bindActionCreators","defineProperty","_extends","assign","target","i","arguments","length","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_Backend","_Backend2","_BreadcrumbsActions","_Breadcrumb","_Breadcrumb2","_SilverStripeComponent","_SilverStripeComponent2","_FormAction","_FormAction2","_i18n","_i18n2","_Toolbar","_Toolbar2","_FormBuilderLoader","_FormBuilderLoader2","_CampaignAdminList","_CampaignAdminList2","CampaignAdmin","_SilverStripeComponen","this","_this","getPrototypeOf","publishApi","createEndpointFetcher","publishEndpoint","method","defaultData","payloadSchema","urlReplacement","remove","handleBackButtonClick","bind","handleCreateCampaignSubmit","handleFormAction","componentWillMount","_props","_props$params","setBreadcrumbs","componentWillReceiveProps","_props$params2","hasChangedRoute","text","_t","href","push","getActionRoute","event","last","preventDefault","router","data","action","submitFn","_this2","promise","Error","then","response","hasErrors","errors","sectionUrl","record","currentTarget","render","renderItemListView","renderDetailEditView","renderCreateView","renderIndexView","EditForm","formActionProps","icon","handleClick","addCampaign","formBuilderProps","createFn","campaignListCreateFn","createElement","className","aria-expanded","multiline","itemListViewEndpoint","baseSchemaUrl","showBackButton","handleAction","campaignCreateForm","handleSubmit","campaignEditCreateFn","Component","_this3","extendedProps","campaignAddCreateFn","_this4","_this5","typeUrlParam","schemaComponent","handleDrillDown","ID","handleEditRecord","propTypes","PropTypes","object","isRequired","string","shape","connect","React","ReactRedux","ReduxForm","Redux","Backend","BreadcrumbsActions","Breadcrumb","SilverStripeComponent","FormAction","i18n","Toolbar","FormBuilderLoader","treeClass","records","parseInt","recordActions","campaignActions","_get","get","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getter","_RecordsActions","_CampaignActions","_Accordion","_Accordion2","_AccordionBlock","_AccordionBlock2","_ListGroupItem","_ListGroupItem2","_CampaignAdminItem","_CampaignAdminItem2","_Preview","_Preview2","CampaignAdminList","handlePublish","handleItemSelected","handleCloseItem","componentDidMount","fetchURL","replace","keys","fetchRecord","Name","itemId","changeSetItemId","itemLinks","selectedClass","itemGroups","groupItemsForSet","accordionBlocks","forEach","group","groupCount","items","listGroupItems","singular","plural","groupid","item","selected","_links","itemClassNames","ChangeType","State","join","handleClickArg","pagesLink","absoluteBaseUrl","body","role","bodyClass","renderButtonToolbar","onBack","selectChangeSetItem","getItems","actionProps","buttonStyle","loading","isPublishing","disabled","_embedded","groups","classname","BaseClass","Singular","Plural","e","publishCampaign","bool","number","func","RecordsActions","type","_CampaignActionTypes2","SET_CAMPAIGN_SELECTED_CHANGESETITEM","payload","showCampaignView","SET_CAMPAIGN_ACTIVE_CHANGESET","recordType","PUBLISH_CAMPAIGN_REQUEST","PUBLISH_CAMPAIGN_SUCCESS","_RecordsActionTypes2","FETCH_RECORD_SUCCESS","catch","error","PUBLISH_CAMPAIGN_FAILURE","_CampaignActionTypes","_RecordsActionTypes","RecordsActionTypes","Accordion","AccordionBlock","ListGroupItem","CampaignAdminItem","apply","thumbnail","badge","Title","links","Thumbnail","alt","src","Preview","reducer","initialState","_deepFreezeStrict2","_deepFreezeStrict","deepFreeze","o","freeze","oIsFunction","hasOwnProp","getOwnPropertyNames","prop","isFrozen"],"mappings":"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","file":"js/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(1);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _reactRouter = __webpack_require__(2);\n\t\n\tvar _Config = __webpack_require__(3);\n\t\n\tvar _Config2 = _interopRequireDefault(_Config);\n\t\n\tvar _ReducerRegister = __webpack_require__(4);\n\t\n\tvar _ReducerRegister2 = _interopRequireDefault(_ReducerRegister);\n\t\n\tvar _ReactRouteRegister = __webpack_require__(5);\n\t\n\tvar _ReactRouteRegister2 = _interopRequireDefault(_ReactRouteRegister);\n\t\n\tvar _CampaignAdmin = __webpack_require__(6);\n\t\n\tvar _CampaignAdmin2 = _interopRequireDefault(_CampaignAdmin);\n\t\n\tvar _CampaignReducer = __webpack_require__(29);\n\t\n\tvar _CampaignReducer2 = _interopRequireDefault(_CampaignReducer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t  var sectionConfig = _Config2.default.getSection('SilverStripe\\\\CampaignAdmin\\\\CampaignAdmin');\n\t  _ReactRouteRegister2.default.add({\n\t    path: sectionConfig.url,\n\t    component: (0, _reactRouter.withRouter)(_CampaignAdmin2.default),\n\t    childRoutes: [{ path: ':type/:id/:view', component: _CampaignAdmin2.default }, { path: 'set/:id/:view', component: _CampaignAdmin2.default }]\n\t  });\n\t\n\t  _ReducerRegister2.default.add('campaign', _CampaignReducer2.default);\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactRouter;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Config;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReducerRegister;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactRouteRegister;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(8);\n\t\n\tvar _reduxForm = __webpack_require__(9);\n\t\n\tvar _redux = __webpack_require__(10);\n\t\n\tvar _reactRouter = __webpack_require__(2);\n\t\n\tvar _Backend = __webpack_require__(11);\n\t\n\tvar _Backend2 = _interopRequireDefault(_Backend);\n\t\n\tvar _BreadcrumbsActions = __webpack_require__(12);\n\t\n\tvar breadcrumbsActions = _interopRequireWildcard(_BreadcrumbsActions);\n\t\n\tvar _Breadcrumb = __webpack_require__(13);\n\t\n\tvar _Breadcrumb2 = _interopRequireDefault(_Breadcrumb);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(14);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tvar _FormAction = __webpack_require__(15);\n\t\n\tvar _FormAction2 = _interopRequireDefault(_FormAction);\n\t\n\tvar _i18n = __webpack_require__(16);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tvar _Toolbar = __webpack_require__(17);\n\t\n\tvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\t\n\tvar _FormBuilderLoader = __webpack_require__(18);\n\t\n\tvar _FormBuilderLoader2 = _interopRequireDefault(_FormBuilderLoader);\n\t\n\tvar _CampaignAdminList = __webpack_require__(19);\n\t\n\tvar _CampaignAdminList2 = _interopRequireDefault(_CampaignAdminList);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar sectionConfigKey = 'SilverStripe\\\\CampaignAdmin\\\\CampaignAdmin';\n\t\n\tvar CampaignAdmin = function (_SilverStripeComponen) {\n\t  _inherits(CampaignAdmin, _SilverStripeComponen);\n\t\n\t  function CampaignAdmin(props) {\n\t    _classCallCheck(this, CampaignAdmin);\n\t\n\t    var _this = _possibleConstructorReturn(this, (CampaignAdmin.__proto__ || Object.getPrototypeOf(CampaignAdmin)).call(this, props));\n\t\n\t    _this.publishApi = _Backend2.default.createEndpointFetcher({\n\t      url: _this.props.sectionConfig.publishEndpoint.url,\n\t      method: _this.props.sectionConfig.publishEndpoint.method,\n\t      defaultData: { SecurityID: _this.props.securityId },\n\t      payloadSchema: {\n\t        id: { urlReplacement: ':id', remove: true }\n\t      }\n\t    });\n\t\n\t    _this.handleBackButtonClick = _this.handleBackButtonClick.bind(_this);\n\t    _this.handleCreateCampaignSubmit = _this.handleCreateCampaignSubmit.bind(_this);\n\t    _this.handleFormAction = _this.handleFormAction.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(CampaignAdmin, [{\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      var _props = this.props,\n\t          breadcrumbs = _props.breadcrumbs,\n\t          title = _props.title,\n\t          _props$params = _props.params,\n\t          view = _props$params.view,\n\t          id = _props$params.id;\n\t\n\t      if (breadcrumbs.length === 0) {\n\t        this.setBreadcrumbs(view, id, title);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(props) {\n\t      var title = props.title,\n\t          _props$params2 = props.params,\n\t          id = _props$params2.id,\n\t          view = _props$params2.view;\n\t\n\t      var hasChangedRoute = this.props.params.id !== id || this.props.params.view !== view || this.props.title !== title;\n\t      if (hasChangedRoute) {\n\t        this.setBreadcrumbs(view, id, title);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setBreadcrumbs',\n\t    value: function setBreadcrumbs(view, id, title) {\n\t      var breadcrumbs = [{\n\t        text: _i18n2.default._t('CampaignAdmin.CAMPAIGN', 'Campaigns'),\n\t        href: this.props.sectionConfig.url\n\t      }];\n\t      switch (view) {\n\t        case 'show':\n\t          break;\n\t        case 'edit':\n\t          breadcrumbs.push({\n\t            text: title,\n\t            href: this.getActionRoute(id, view)\n\t          });\n\t          break;\n\t        case 'create':\n\t          breadcrumbs.push({\n\t            text: _i18n2.default._t('CampaignAdmin.ADD_CAMPAIGN', 'Add Campaign'),\n\t            href: this.getActionRoute(id, view)\n\t          });\n\t          break;\n\t        default:\n\t          break;\n\t      }\n\t\n\t      this.props.breadcrumbsActions.setBreadcrumbs(breadcrumbs);\n\t    }\n\t  }, {\n\t    key: 'handleBackButtonClick',\n\t    value: function handleBackButtonClick(event) {\n\t      if (this.props.breadcrumbs.length > 1) {\n\t        var last = this.props.breadcrumbs[this.props.breadcrumbs.length - 2];\n\t        if (last && last.href) {\n\t          event.preventDefault();\n\t          this.props.router.push(last.href);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleCreateCampaignSubmit',\n\t    value: function handleCreateCampaignSubmit(data, action, submitFn) {\n\t      var _this2 = this;\n\t\n\t      var promise = submitFn();\n\t      if (!promise) {\n\t        throw new Error('Promise was not returned for submitting');\n\t      }\n\t      return promise.then(function (response) {\n\t        var hasErrors = response.errors && response.errors.length > 0;\n\t        if (action === 'action_save' && !hasErrors) {\n\t          var sectionUrl = _this2.props.sectionConfig.url;\n\t          var id = response.record.id;\n\t          _this2.props.router.push(sectionUrl + '/set/' + id + '/edit');\n\t        }\n\t\n\t        return response;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleFormAction',\n\t    value: function handleFormAction(event) {\n\t      var name = event.currentTarget.name;\n\t\n\t      if (name === 'action_cancel') {\n\t        var url = this.props.sectionConfig.url;\n\t        this.props.router.push(url);\n\t        event.preventDefault();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var view = null;\n\t\n\t      switch (this.props.params.view) {\n\t        case 'show':\n\t          view = this.renderItemListView();\n\t          break;\n\t        case 'edit':\n\t          view = this.renderDetailEditView();\n\t          break;\n\t        case 'create':\n\t          view = this.renderCreateView();\n\t          break;\n\t        default:\n\t          view = this.renderIndexView();\n\t      }\n\t\n\t      return view;\n\t    }\n\t  }, {\n\t    key: 'renderIndexView',\n\t    value: function renderIndexView() {\n\t      var schemaUrl = this.props.sectionConfig.form.EditForm.schemaUrl;\n\t      var formActionProps = {\n\t        title: _i18n2.default._t('CampaignAdmin.ADDCAMPAIGN'),\n\t        icon: 'plus',\n\t        handleClick: this.addCampaign.bind(this)\n\t      };\n\t      var formBuilderProps = {\n\t        createFn: this.campaignListCreateFn.bind(this),\n\t        schemaUrl: schemaUrl\n\t      };\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'fill-height', 'aria-expanded': 'true' },\n\t        _react2.default.createElement(\n\t          _Toolbar2.default,\n\t          null,\n\t          _react2.default.createElement(_Breadcrumb2.default, { multiline: true })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'panel panel--padded panel--scrollable flexbox-area-grow' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'toolbar toolbar--content' },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'btn-toolbar' },\n\t              _react2.default.createElement(_FormAction2.default, formActionProps)\n\t            )\n\t          ),\n\t          _react2.default.createElement(_FormBuilderLoader2.default, formBuilderProps)\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderItemListView',\n\t    value: function renderItemListView() {\n\t      var props = {\n\t        sectionConfig: this.props.sectionConfig,\n\t        campaignId: this.props.params.id,\n\t        itemListViewEndpoint: this.props.sectionConfig.itemListViewEndpoint,\n\t        publishApi: this.publishApi,\n\t        handleBackButtonClick: this.handleBackButtonClick.bind(this)\n\t      };\n\t\n\t      return _react2.default.createElement(_CampaignAdminList2.default, props);\n\t    }\n\t  }, {\n\t    key: 'renderDetailEditView',\n\t    value: function renderDetailEditView() {\n\t      if (this.props.params.id <= 0) {\n\t        return this.renderCreateView();\n\t      }\n\t      var baseSchemaUrl = this.props.sectionConfig.form.campaignEditForm.schemaUrl;\n\t      var schemaUrl = baseSchemaUrl + '/' + this.props.params.id;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'fill-height' },\n\t        _react2.default.createElement(\n\t          _Toolbar2.default,\n\t          { showBackButton: true, handleBackButtonClick: this.handleBackButtonClick },\n\t          _react2.default.createElement(_Breadcrumb2.default, { multiline: true })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'panel panel--padded panel--scrollable flexbox-area-grow form--inline' },\n\t          _react2.default.createElement(_FormBuilderLoader2.default, {\n\t            handleAction: this.handleFormAction,\n\t            schemaUrl: schemaUrl\n\t          })\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'renderCreateView',\n\t    value: function renderCreateView() {\n\t      var schemaUrl = this.props.sectionConfig.form.campaignCreateForm.schemaUrl;\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'fill-height' },\n\t        _react2.default.createElement(\n\t          _Toolbar2.default,\n\t          { showBackButton: true, handleBackButtonClick: this.handleBackButtonClick },\n\t          _react2.default.createElement(_Breadcrumb2.default, { multiline: true })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'panel panel--padded panel--scrollable flexbox-area-grow form--inline' },\n\t          _react2.default.createElement(_FormBuilderLoader2.default, {\n\t            handleSubmit: this.handleCreateCampaignSubmit,\n\t            handleAction: this.handleFormAction,\n\t            schemaUrl: schemaUrl\n\t          })\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'campaignEditCreateFn',\n\t    value: function campaignEditCreateFn(Component, props) {\n\t      var _this3 = this;\n\t\n\t      var url = this.props.sectionConfig.url;\n\t\n\t      if (props.name === 'action_cancel') {\n\t        var extendedProps = _extends({}, props, {\n\t          handleClick: function handleClick(event) {\n\t            event.preventDefault();\n\t            _this3.props.router.push(url);\n\t          }\n\t        });\n\t\n\t        return _react2.default.createElement(Component, _extends({ key: props.id }, extendedProps));\n\t      }\n\t\n\t      return _react2.default.createElement(Component, _extends({ key: props.id }, props));\n\t    }\n\t  }, {\n\t    key: 'campaignAddCreateFn',\n\t    value: function campaignAddCreateFn(Component, props) {\n\t      var _this4 = this;\n\t\n\t      var url = this.props.sectionConfig.url;\n\t\n\t      if (props.name === 'action_cancel') {\n\t        var extendedProps = _extends({}, props, {\n\t          handleClick: function handleClick(event) {\n\t            event.preventDefault();\n\t            _this4.props.router.push(url);\n\t          }\n\t        });\n\t\n\t        return _react2.default.createElement(Component, _extends({ key: props.name }, extendedProps));\n\t      }\n\t\n\t      return _react2.default.createElement(Component, _extends({ key: props.name }, props));\n\t    }\n\t  }, {\n\t    key: 'campaignListCreateFn',\n\t    value: function campaignListCreateFn(Component, props) {\n\t      var _this5 = this;\n\t\n\t      var sectionUrl = this.props.sectionConfig.url;\n\t      var typeUrlParam = 'set';\n\t\n\t      if (props.schemaComponent === 'GridField') {\n\t        var extendedProps = _extends({}, props, {\n\t          data: _extends({}, props.data, {\n\t            handleDrillDown: function handleDrillDown(event, record) {\n\t              _this5.props.router.push(sectionUrl + '/' + typeUrlParam + '/' + record.ID + '/show');\n\t            },\n\t            handleEditRecord: function handleEditRecord(event, id) {\n\t              _this5.props.router.push(sectionUrl + '/' + typeUrlParam + '/' + id + '/edit');\n\t            }\n\t          })\n\t        });\n\t\n\t        return _react2.default.createElement(Component, _extends({ key: extendedProps.name }, extendedProps));\n\t      }\n\t\n\t      return _react2.default.createElement(Component, _extends({ key: props.name }, props));\n\t    }\n\t  }, {\n\t    key: 'addCampaign',\n\t    value: function addCampaign() {\n\t      var path = this.getActionRoute(0, 'create');\n\t      this.props.router.push(path);\n\t    }\n\t  }, {\n\t    key: 'getActionRoute',\n\t    value: function getActionRoute(id, view) {\n\t      return this.props.sectionConfig.url + '/set/' + id + '/' + view;\n\t    }\n\t  }]);\n\t\n\t  return CampaignAdmin;\n\t}(_SilverStripeComponent2.default);\n\t\n\tCampaignAdmin.propTypes = {\n\t  breadcrumbsActions: _react2.default.PropTypes.object.isRequired,\n\t  campaignId: _react2.default.PropTypes.string,\n\t  sectionConfig: _react2.default.PropTypes.shape({\n\t    publishEndpoint: _react2.default.PropTypes.shape({\n\t      url: _react2.default.PropTypes.string,\n\t      method: _react2.default.PropTypes.string\n\t    }),\n\t    form: _react2.default.PropTypes.shape({\n\t      EditForm: _react2.default.PropTypes.shape({\n\t        schemaUrl: _react2.default.PropTypes.string\n\t      }),\n\t      campaignEditForm: _react2.default.PropTypes.shape({\n\t        schemaUrl: _react2.default.PropTypes.string\n\t      }),\n\t      campaignCreateForm: _react2.default.PropTypes.shape({\n\t        schemaUrl: _react2.default.PropTypes.string\n\t      })\n\t    })\n\t  }),\n\t  securityId: _react2.default.PropTypes.string.isRequired,\n\t  view: _react2.default.PropTypes.string\n\t};\n\t\n\tfunction mapStateToProps(state, ownProps) {\n\t  var sectionConfig = state.config.sections.find(function (section) {\n\t    return section.name === sectionConfigKey;\n\t  });\n\t  var formID = sectionConfig.form.campaignEditForm.schemaUrl + '/' + ownProps.params.id;\n\t  var selector = (0, _reduxForm.formValueSelector)(formID);\n\t  var title = selector(state, 'Name');\n\t\n\t  return {\n\t    config: state.config,\n\t    campaignId: state.campaign.campaignId,\n\t    view: state.campaign.view,\n\t    breadcrumbs: state.breadcrumbs,\n\t    sectionConfig: sectionConfig,\n\t    securityId: state.config.SecurityID,\n\t    title: title\n\t  };\n\t}\n\t\n\tfunction mapDispatchToProps(dispatch) {\n\t  return {\n\t    breadcrumbsActions: (0, _redux.bindActionCreators)(breadcrumbsActions, dispatch)\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)((0, _reactRouter.withRouter)(CampaignAdmin));\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = React;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactRedux;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReduxForm;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Redux;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Backend;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = BreadcrumbsActions;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Breadcrumb;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = SilverStripeComponent;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = FormAction;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = i18n;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Toolbar;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = FormBuilderLoader;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _redux = __webpack_require__(10);\n\t\n\tvar _reactRedux = __webpack_require__(8);\n\t\n\tvar _BreadcrumbsActions = __webpack_require__(12);\n\t\n\tvar breadcrumbsActions = _interopRequireWildcard(_BreadcrumbsActions);\n\t\n\tvar _RecordsActions = __webpack_require__(20);\n\t\n\tvar recordActions = _interopRequireWildcard(_RecordsActions);\n\t\n\tvar _CampaignActions = __webpack_require__(21);\n\t\n\tvar campaignActions = _interopRequireWildcard(_CampaignActions);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(14);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tvar _Accordion = __webpack_require__(24);\n\t\n\tvar _Accordion2 = _interopRequireDefault(_Accordion);\n\t\n\tvar _AccordionBlock = __webpack_require__(25);\n\t\n\tvar _AccordionBlock2 = _interopRequireDefault(_AccordionBlock);\n\t\n\tvar _ListGroupItem = __webpack_require__(26);\n\t\n\tvar _ListGroupItem2 = _interopRequireDefault(_ListGroupItem);\n\t\n\tvar _Toolbar = __webpack_require__(17);\n\t\n\tvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\t\n\tvar _FormAction = __webpack_require__(15);\n\t\n\tvar _FormAction2 = _interopRequireDefault(_FormAction);\n\t\n\tvar _CampaignAdminItem = __webpack_require__(27);\n\t\n\tvar _CampaignAdminItem2 = _interopRequireDefault(_CampaignAdminItem);\n\t\n\tvar _Breadcrumb = __webpack_require__(13);\n\t\n\tvar _Breadcrumb2 = _interopRequireDefault(_Breadcrumb);\n\t\n\tvar _Preview = __webpack_require__(28);\n\t\n\tvar _Preview2 = _interopRequireDefault(_Preview);\n\t\n\tvar _i18n = __webpack_require__(16);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar sectionConfigKey = 'SilverStripe\\\\CMS\\\\Controllers\\\\CMSPagesController';\n\t\n\tvar CampaignAdminList = function (_SilverStripeComponen) {\n\t  _inherits(CampaignAdminList, _SilverStripeComponen);\n\t\n\t  function CampaignAdminList(props) {\n\t    _classCallCheck(this, CampaignAdminList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (CampaignAdminList.__proto__ || Object.getPrototypeOf(CampaignAdminList)).call(this, props));\n\t\n\t    _this.handlePublish = _this.handlePublish.bind(_this);\n\t    _this.handleItemSelected = _this.handleItemSelected.bind(_this);\n\t    _this.setBreadcrumbs = _this.setBreadcrumbs.bind(_this);\n\t    _this.handleCloseItem = _this.handleCloseItem.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(CampaignAdminList, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var fetchURL = this.props.itemListViewEndpoint.url.replace(/:id/, this.props.campaignId);\n\t      _get(CampaignAdminList.prototype.__proto__ || Object.getPrototypeOf(CampaignAdminList.prototype), 'componentDidMount', this).call(this);\n\t      this.setBreadcrumbs();\n\t\n\t      if (!Object.keys(this.props.record).length) {\n\t        this.props.recordActions.fetchRecord(this.props.treeClass, 'get', fetchURL).then(this.setBreadcrumbs);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setBreadcrumbs',\n\t    value: function setBreadcrumbs() {\n\t      if (!this.props.record) {\n\t        return;\n\t      }\n\t\n\t      var breadcrumbs = [{\n\t        text: _i18n2.default._t('CampaignAdmin.CAMPAIGN', 'Campaigns'),\n\t        href: this.props.sectionConfig.url\n\t      }];\n\t      breadcrumbs.push({\n\t        text: this.props.record.Name,\n\t        href: this.props.sectionConfig.url + '/set/' + this.props.campaignId + '/show'\n\t      });\n\t\n\t      this.props.breadcrumbsActions.setBreadcrumbs(breadcrumbs);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var itemId = this.props.campaign.changeSetItemId;\n\t      var itemLinks = null;\n\t      var selectedClass = !itemId ? 'campaign-admin__campaign--hide-preview' : '';\n\t      var campaignId = this.props.campaignId;\n\t      var campaign = this.props.record;\n\t\n\t      var itemGroups = this.groupItemsForSet();\n\t\n\t      var accordionBlocks = [];\n\t\n\t      Object.keys(itemGroups).forEach(function (className) {\n\t        var group = itemGroups[className];\n\t        var groupCount = group.items.length;\n\t\n\t        var listGroupItems = [];\n\t        var title = groupCount + ' ' + (groupCount === 1 ? group.singular : group.plural);\n\t        var groupid = 'Set_' + campaignId + '_Group_' + className;\n\t\n\t        group.items.forEach(function (item) {\n\t          if (!itemId) {\n\t            itemId = item.ID;\n\t          }\n\t          var selected = itemId === item.ID;\n\t\n\t          if (selected && item._links) {\n\t            itemLinks = item._links;\n\t          }\n\t\n\t          var itemClassNames = [];\n\t          if (item.ChangeType === 'none' || campaign.State === 'published') {\n\t            itemClassNames.push('list-group-item--inactive');\n\t          }\n\t          if (selected) {\n\t            itemClassNames.push('active');\n\t          }\n\t\n\t          listGroupItems.push(_react2.default.createElement(\n\t            _ListGroupItem2.default,\n\t            {\n\t              key: item.ID,\n\t              className: itemClassNames.join(' '),\n\t              handleClick: _this2.handleItemSelected,\n\t              handleClickArg: item.ID\n\t            },\n\t            _react2.default.createElement(_CampaignAdminItem2.default, { item: item, campaign: _this2.props.record })\n\t          ));\n\t        });\n\t\n\t        accordionBlocks.push(_react2.default.createElement(\n\t          _AccordionBlock2.default,\n\t          { key: groupid, groupid: groupid, title: title },\n\t          listGroupItems\n\t        ));\n\t      });\n\t\n\t      var pagesLink = [this.props.config.absoluteBaseUrl, this.props.config.sections.find(function (section) {\n\t        return section.name === sectionConfigKey;\n\t      }).url].join('');\n\t\n\t      var body = accordionBlocks.length ? _react2.default.createElement(\n\t        _Accordion2.default,\n\t        null,\n\t        accordionBlocks\n\t      ) : _react2.default.createElement(\n\t        'div',\n\t        { className: 'alert alert-warning', role: 'alert' },\n\t        _react2.default.createElement(\n\t          'strong',\n\t          null,\n\t          'This campaign is empty.'\n\t        ),\n\t        ' You can add items to a campaign by selecting ',\n\t        _react2.default.createElement(\n\t          'em',\n\t          null,\n\t          'Add to campaign'\n\t        ),\n\t        ' from within the ',\n\t        _react2.default.createElement(\n\t          'em',\n\t          null,\n\t          'More Options '\n\t        ),\n\t        'popup on ',\n\t        _react2.default.createElement(\n\t          'a',\n\t          { href: pagesLink },\n\t          'pages'\n\t        ),\n\t        ' and files.'\n\t      );\n\t      var bodyClass = ['panel', 'panel--padded', 'panel--scrollable', 'flexbox-area-grow'];\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'fill-width campaign-admin__campaign ' + selectedClass },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'fill-height campaign-admin__campaign-items', 'aria-expanded': 'true' },\n\t          _react2.default.createElement(\n\t            _Toolbar2.default,\n\t            { showBackButton: true, handleBackButtonClick: this.props.handleBackButtonClick },\n\t            _react2.default.createElement(_Breadcrumb2.default, { multiline: true })\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: bodyClass.join(' ') },\n\t            body\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'toolbar toolbar--south' },\n\t            this.renderButtonToolbar()\n\t          )\n\t        ),\n\t        _react2.default.createElement(_Preview2.default, { itemLinks: itemLinks, itemId: itemId, onBack: this.handleCloseItem })\n\t      );\n\t    }\n\t  }, {\n\t    key: 'handleItemSelected',\n\t    value: function handleItemSelected(event, itemId) {\n\t      this.props.campaignActions.selectChangeSetItem(itemId);\n\t    }\n\t  }, {\n\t    key: 'handleCloseItem',\n\t    value: function handleCloseItem() {\n\t      this.props.campaignActions.selectChangeSetItem(null);\n\t    }\n\t  }, {\n\t    key: 'renderButtonToolbar',\n\t    value: function renderButtonToolbar() {\n\t      var items = this.getItems();\n\t\n\t      if (!items || !items.length) {\n\t        return _react2.default.createElement('div', { className: 'btn-toolbar' });\n\t      }\n\t\n\t      var actionProps = {};\n\t\n\t      if (this.props.record.State === 'open') {\n\t        actionProps = _extends(actionProps, {\n\t          title: _i18n2.default._t('CampaignAdmin.PUBLISHCAMPAIGN'),\n\t          buttonStyle: 'primary',\n\t          loading: this.props.campaign.isPublishing,\n\t          handleClick: this.handlePublish,\n\t          icon: 'rocket'\n\t        });\n\t      } else if (this.props.record.State === 'published') {\n\t        actionProps = _extends(actionProps, {\n\t          title: _i18n2.default._t('CampaignAdmin.REVERTCAMPAIGN'),\n\t          buttonStyle: 'secondary-outline',\n\t          icon: 'back-in-time',\n\t          disabled: true\n\t        });\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'btn-toolbar' },\n\t        _react2.default.createElement(_FormAction2.default, actionProps)\n\t      );\n\t    }\n\t  }, {\n\t    key: 'getItems',\n\t    value: function getItems() {\n\t      if (this.props.record && this.props.record._embedded) {\n\t        return this.props.record._embedded.items;\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'groupItemsForSet',\n\t    value: function groupItemsForSet() {\n\t      var groups = {};\n\t      var items = this.getItems();\n\t      if (!items) {\n\t        return groups;\n\t      }\n\t\n\t      items.forEach(function (item) {\n\t        var classname = item.BaseClass;\n\t\n\t        if (!groups[classname]) {\n\t          groups[classname] = {\n\t            singular: item.Singular,\n\t            plural: item.Plural,\n\t            items: []\n\t          };\n\t        }\n\t\n\t        groups[classname].items.push(item);\n\t      });\n\t\n\t      return groups;\n\t    }\n\t  }, {\n\t    key: 'handlePublish',\n\t    value: function handlePublish(e) {\n\t      e.preventDefault();\n\t      this.props.campaignActions.publishCampaign(this.props.publishApi, this.props.treeClass, this.props.campaignId);\n\t    }\n\t  }]);\n\t\n\t  return CampaignAdminList;\n\t}(_SilverStripeComponent2.default);\n\t\n\tCampaignAdminList.propTypes = {\n\t  campaign: _react2.default.PropTypes.shape({\n\t    isPublishing: _react2.default.PropTypes.bool.isRequired,\n\t    changeSetItemId: _react2.default.PropTypes.number\n\t  }),\n\t  breadcrumbsActions: _react2.default.PropTypes.object.isRequired,\n\t  campaignActions: _react2.default.PropTypes.object.isRequired,\n\t  publishApi: _react2.default.PropTypes.func.isRequired,\n\t  record: _react2.default.PropTypes.object.isRequired,\n\t  recordActions: _react2.default.PropTypes.object.isRequired,\n\t  sectionConfig: _react2.default.PropTypes.object.isRequired,\n\t  handleBackButtonClick: _react2.default.PropTypes.func\n\t};\n\t\n\tfunction mapStateToProps(state, ownProps) {\n\t  var record = null;\n\t  var treeClass = ownProps.sectionConfig.treeClass;\n\t  if (state.records && state.records[treeClass] && ownProps.campaignId) {\n\t    record = state.records[treeClass][parseInt(ownProps.campaignId, 10)];\n\t  }\n\t  return {\n\t    config: state.config,\n\t    record: record || {},\n\t    campaign: state.campaign,\n\t    treeClass: treeClass\n\t  };\n\t}\n\t\n\tfunction mapDispatchToProps(dispatch) {\n\t  return {\n\t    breadcrumbsActions: (0, _redux.bindActionCreators)(breadcrumbsActions, dispatch),\n\t    recordActions: (0, _redux.bindActionCreators)(recordActions, dispatch),\n\t    campaignActions: (0, _redux.bindActionCreators)(campaignActions, dispatch)\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(CampaignAdminList);\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = RecordsActions;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.selectChangeSetItem = selectChangeSetItem;\n\texports.showCampaignView = showCampaignView;\n\texports.publishCampaign = publishCampaign;\n\t\n\tvar _CampaignActionTypes = __webpack_require__(22);\n\t\n\tvar _CampaignActionTypes2 = _interopRequireDefault(_CampaignActionTypes);\n\t\n\tvar _RecordsActionTypes = __webpack_require__(23);\n\t\n\tvar _RecordsActionTypes2 = _interopRequireDefault(_RecordsActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction selectChangeSetItem(changeSetItemId) {\n\t  return {\n\t    type: _CampaignActionTypes2.default.SET_CAMPAIGN_SELECTED_CHANGESETITEM,\n\t    payload: { changeSetItemId: changeSetItemId }\n\t  };\n\t}\n\t\n\tfunction showCampaignView(campaignId, view) {\n\t  return function (dispatch) {\n\t    dispatch({\n\t      type: _CampaignActionTypes2.default.SET_CAMPAIGN_ACTIVE_CHANGESET,\n\t      payload: { campaignId: campaignId, view: view }\n\t    });\n\t  };\n\t}\n\t\n\tfunction publishCampaign(publishApi, recordType, campaignId) {\n\t  return function (dispatch) {\n\t    dispatch({\n\t      type: _CampaignActionTypes2.default.PUBLISH_CAMPAIGN_REQUEST,\n\t      payload: { campaignId: campaignId }\n\t    });\n\t\n\t    publishApi({ id: campaignId }).then(function (data) {\n\t      dispatch({\n\t        type: _CampaignActionTypes2.default.PUBLISH_CAMPAIGN_SUCCESS,\n\t        payload: { campaignId: campaignId }\n\t      });\n\t      dispatch({\n\t        type: _RecordsActionTypes2.default.FETCH_RECORD_SUCCESS,\n\t        payload: { recordType: recordType, data: data }\n\t      });\n\t    }).catch(function (error) {\n\t      dispatch({\n\t        type: _CampaignActionTypes2.default.PUBLISH_CAMPAIGN_FAILURE,\n\t        payload: { error: error }\n\t      });\n\t    });\n\t  };\n\t}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  SET_CAMPAIGN_ACTIVE_CHANGESET: 'SET_CAMPAIGN_ACTIVE_CHANGESET',\n\t  SET_CAMPAIGN_SELECTED_CHANGESETITEM: 'SET_CAMPAIGN_SELECTED_CHANGESETITEM',\n\t  PUBLISH_CAMPAIGN_REQUEST: 'PUBLISH_CAMPAIGN_REQUEST',\n\t  PUBLISH_CAMPAIGN_SUCCESS: 'PUBLISH_CAMPAIGN_SUCCESS',\n\t  PUBLISH_CAMPAIGN_FAILURE: 'PUBLISH_CAMPAIGN_FAILURE'\n\t};\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = RecordsActionTypes;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Accordion;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = AccordionBlock;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ListGroupItem;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(14);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tvar _i18n = __webpack_require__(16);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CampaignAdminItem = function (_SilverStripeComponen) {\n\t  _inherits(CampaignAdminItem, _SilverStripeComponen);\n\t\n\t  function CampaignAdminItem() {\n\t    _classCallCheck(this, CampaignAdminItem);\n\t\n\t    return _possibleConstructorReturn(this, (CampaignAdminItem.__proto__ || Object.getPrototypeOf(CampaignAdminItem)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(CampaignAdminItem, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var thumbnail = null;\n\t      var badge = {};\n\t      var item = this.props.item;\n\t      var campaign = this.props.campaign;\n\t\n\t      if (campaign.State === 'open') {\n\t        switch (item.ChangeType) {\n\t          case 'created':\n\t            badge.className = 'label label-warning list-group-item__status';\n\t            badge.Title = _i18n2.default._t('CampaignAdmin.DRAFT', 'Draft');\n\t            break;\n\t          case 'modified':\n\t            badge.className = 'label label-warning list-group-item__status';\n\t            badge.Title = _i18n2.default._t('CampaignAdmin.MODIFIED', 'Modified');\n\t            break;\n\t          case 'deleted':\n\t            badge.className = 'label label-error list-group-item__status';\n\t            badge.Title = _i18n2.default._t('CampaignAdmin.REMOVED', 'Removed');\n\t            break;\n\t          case 'none':\n\t          default:\n\t            badge.className = 'label label-success list-group-item__status';\n\t            badge.Title = _i18n2.default._t('CampaignAdmin.NO_CHANGES', 'No changes');\n\t            break;\n\t        }\n\t      }\n\t\n\t      var links = _react2.default.createElement(\n\t        'span',\n\t        {\n\t          className: 'list-group-item__info campaign-admin__item-links--has-links font-icon-link'\n\t        },\n\t        '3 linked items'\n\t      );\n\t\n\t      if (item.Thumbnail) {\n\t        thumbnail = _react2.default.createElement(\n\t          'span',\n\t          { className: 'list-group-item__thumbnail' },\n\t          _react2.default.createElement('img', { alt: item.Title, src: item.Thumbnail })\n\t        );\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'fill-width' },\n\t        thumbnail,\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'list-group-item__details' },\n\t          _react2.default.createElement(\n\t            'h4',\n\t            { className: 'list-group-item__heading' },\n\t            item.Title\n\t          ),\n\t          _react2.default.createElement('span', {\n\t            className: 'list-group-item__info campaign-admin__item-links--is-linked font-icon-link'\n\t          }),\n\t          links,\n\t          badge.className && badge.Title && _react2.default.createElement(\n\t            'span',\n\t            { className: badge.className },\n\t            badge.Title\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return CampaignAdminItem;\n\t}(_SilverStripeComponent2.default);\n\t\n\tCampaignAdminItem.propTypes = {\n\t  campaign: _react2.default.PropTypes.object.isRequired,\n\t  item: _react2.default.PropTypes.object.isRequired\n\t};\n\t\n\texports.default = CampaignAdminItem;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Preview;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _deepFreezeStrict = __webpack_require__(30);\n\t\n\tvar _deepFreezeStrict2 = _interopRequireDefault(_deepFreezeStrict);\n\t\n\tvar _CampaignActionTypes = __webpack_require__(22);\n\t\n\tvar _CampaignActionTypes2 = _interopRequireDefault(_CampaignActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = (0, _deepFreezeStrict2.default)({\n\t  campaignId: null,\n\t  changeSetItemId: null,\n\t  isPublishing: false,\n\t  view: null\n\t});\n\t\n\tfunction reducer() {\n\t  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t\n\t    case _CampaignActionTypes2.default.SET_CAMPAIGN_SELECTED_CHANGESETITEM:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        changeSetItemId: action.payload.changeSetItemId\n\t      }));\n\t\n\t    case _CampaignActionTypes2.default.SET_CAMPAIGN_ACTIVE_CHANGESET:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        campaignId: action.payload.campaignId,\n\t        view: action.payload.view,\n\t        changeSetItemId: null\n\t      }));\n\t\n\t    case _CampaignActionTypes2.default.PUBLISH_CAMPAIGN_REQUEST:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        isPublishing: true\n\t      }));\n\t\n\t    case _CampaignActionTypes2.default.PUBLISH_CAMPAIGN_SUCCESS:\n\t    case _CampaignActionTypes2.default.PUBLISH_CAMPAIGN_FAILURE:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        isPublishing: false\n\t      }));\n\t\n\t    default:\n\t      return state;\n\t\n\t  }\n\t}\n\t\n\texports.default = reducer;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function deepFreeze (o) {\n\t  Object.freeze(o);\n\t\n\t  var oIsFunction = typeof o === \"function\";\n\t  var hasOwnProp = Object.prototype.hasOwnProperty;\n\t\n\t  Object.getOwnPropertyNames(o).forEach(function (prop) {\n\t    if (hasOwnProp.call(o, prop)\n\t    && (oIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true )\n\t    && o[prop] !== null\n\t    && (typeof o[prop] === \"object\" || typeof o[prop] === \"function\")\n\t    && !Object.isFrozen(o[prop])) {\n\t      deepFreeze(o[prop]);\n\t    }\n\t  });\n\t  \n\t  return o;\n\t};\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 12af928ec783e95cb33d","require('../boot/index.js');\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/bundle.js","import { withRouter } from 'react-router';\nimport ConfigHelpers from 'lib/Config';\nimport reducerRegister from 'lib/ReducerRegister';\nimport reactRouteRegister from 'lib/ReactRouteRegister';\nimport CampaignAdmin from 'containers/CampaignAdmin/CampaignAdmin';\nimport CampaignReducer from 'state/campaign/CampaignReducer';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const sectionConfig = ConfigHelpers.getSection('SilverStripe\\\\CampaignAdmin\\\\CampaignAdmin');\n  reactRouteRegister.add({\n    path: sectionConfig.url,\n    component: withRouter(CampaignAdmin),\n    childRoutes: [\n      { path: ':type/:id/:view', component: CampaignAdmin },\n      { path: 'set/:id/:view', component: CampaignAdmin },\n    ],\n  });\n\n  reducerRegister.add('campaign', CampaignReducer);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/boot/index.js","module.exports = ReactRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactRouter\"\n// module id = 2\n// module chunks = 0","module.exports = Config;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Config\"\n// module id = 3\n// module chunks = 0","module.exports = ReducerRegister;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReducerRegister\"\n// module id = 4\n// module chunks = 0","module.exports = ReactRouteRegister;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactRouteRegister\"\n// module id = 5\n// module chunks = 0","import React from 'react';\nimport { connect } from 'react-redux';\nimport { formValueSelector } from 'redux-form';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router';\nimport backend from 'lib/Backend';\nimport * as breadcrumbsActions from 'state/breadcrumbs/BreadcrumbsActions';\nimport Breadcrumb from 'components/Breadcrumb/Breadcrumb';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\nimport FormAction from 'components/FormAction/FormAction';\nimport i18n from 'i18n';\nimport Toolbar from 'components/Toolbar/Toolbar';\nimport FormBuilderLoader from 'containers/FormBuilderLoader/FormBuilderLoader';\nimport CampaignAdminList from './CampaignAdminList';\n\nconst sectionConfigKey = 'SilverStripe\\\\CampaignAdmin\\\\CampaignAdmin';\n\nclass CampaignAdmin extends SilverStripeComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.publishApi = backend.createEndpointFetcher({\n      url: this.props.sectionConfig.publishEndpoint.url,\n      method: this.props.sectionConfig.publishEndpoint.method,\n      defaultData: { SecurityID: this.props.securityId },\n      payloadSchema: {\n        id: { urlReplacement: ':id', remove: true },\n      },\n    });\n\n    // Bind\n    this.handleBackButtonClick = this.handleBackButtonClick.bind(this);\n    this.handleCreateCampaignSubmit = this.handleCreateCampaignSubmit.bind(this);\n    this.handleFormAction = this.handleFormAction.bind(this);\n  }\n\n  componentWillMount() {\n    // Ensure default breadcrumbs are setup\n    const { breadcrumbs, title, params: { view, id } } = this.props;\n    if (breadcrumbs.length === 0) {\n      this.setBreadcrumbs(view, id, title);\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    const { title, params: { id, view } } = props;\n    const hasChangedRoute = (\n      this.props.params.id !== id ||\n      this.props.params.view !== view ||\n      this.props.title !== title\n    );\n    if (hasChangedRoute) {\n      this.setBreadcrumbs(view, id, title);\n    }\n  }\n\n  setBreadcrumbs(view, id, title) {\n    // Set root breadcrumb\n    const breadcrumbs = [{\n      text: i18n._t('CampaignAdmin.CAMPAIGN', 'Campaigns'),\n      href: this.props.sectionConfig.url,\n    }];\n    switch (view) {\n      case 'show':\n        // NOOP - Lazy loaded in CampaignAdminList.js\n        break;\n      case 'edit':\n        // @todo - Lazy load in FormBuilderLoader / GridField\n        breadcrumbs.push({\n          text: title,\n          href: this.getActionRoute(id, view),\n        });\n        break;\n      case 'create':\n        breadcrumbs.push({\n          text: i18n._t('CampaignAdmin.ADD_CAMPAIGN', 'Add Campaign'),\n          href: this.getActionRoute(id, view),\n        });\n        break;\n      default:\n        // NOOP\n        break;\n    }\n\n    this.props.breadcrumbsActions.setBreadcrumbs(breadcrumbs);\n  }\n\n  handleBackButtonClick(event) {\n    // Go back to second from last breadcrumb (where last item is current)\n    if (this.props.breadcrumbs.length > 1) {\n      const last = this.props.breadcrumbs[this.props.breadcrumbs.length - 2];\n      if (last && last.href) {\n        event.preventDefault();\n        this.props.router.push(last.href);\n      }\n    }\n  }\n\n\n  /**\n   * Handler for creating campaign, will redirect to edit form\n   *\n   * @param {object} data\n   * @param {string} action\n   * @param {function} submitFn\n   * @returns {Promise}\n   */\n  handleCreateCampaignSubmit(data, action, submitFn) {\n    const promise = submitFn();\n    if (!promise) {\n      throw new Error('Promise was not returned for submitting');\n    }\n    return promise\n      .then((response) => {\n        const hasErrors = response.errors && response.errors.length > 0;\n        if (action === 'action_save' && !hasErrors) {\n          // open the new campaign in edit mode after save completes\n          const sectionUrl = this.props.sectionConfig.url;\n          const id = response.record.id;\n          this.props.router.push(`${sectionUrl}/set/${id}/edit`);\n        }\n\n        return response;\n      });\n  }\n\n  handleFormAction(event) {\n    const name = event.currentTarget.name;\n    // intercept the Add to Campaign submit and open the modal dialog instead\n    if (name === 'action_cancel') {\n      const url = this.props.sectionConfig.url;\n      this.props.router.push(url);\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    let view = null;\n\n    switch (this.props.params.view) {\n      case 'show':\n        view = this.renderItemListView();\n        break;\n      case 'edit':\n        view = this.renderDetailEditView();\n        break;\n      case 'create':\n        view = this.renderCreateView();\n        break;\n      default:\n        view = this.renderIndexView();\n    }\n\n    return view;\n  }\n\n  /**\n   * Renders the default view which displays a list of Campaigns.\n   *\n   * @return object\n   */\n  renderIndexView() {\n    const schemaUrl = this.props.sectionConfig.form.EditForm.schemaUrl;\n    const formActionProps = {\n      title: i18n._t('CampaignAdmin.ADDCAMPAIGN'),\n      icon: 'plus',\n      handleClick: this.addCampaign.bind(this),\n    };\n    const formBuilderProps = {\n      createFn: this.campaignListCreateFn.bind(this),\n      schemaUrl,\n    };\n\n    return (\n      <div className=\"fill-height\" aria-expanded=\"true\">\n        <Toolbar>\n          <Breadcrumb multiline />\n        </Toolbar>\n        <div className=\"panel panel--padded panel--scrollable flexbox-area-grow\">\n          <div className=\"toolbar toolbar--content\">\n            <div className=\"btn-toolbar\">\n              <FormAction {...formActionProps} />\n            </div>\n          </div>\n          <FormBuilderLoader {...formBuilderProps} />\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Renders a list of items in a Campaign.\n   *\n   * @return object\n   */\n  renderItemListView() {\n    const props = {\n      sectionConfig: this.props.sectionConfig,\n      campaignId: this.props.params.id,\n      itemListViewEndpoint: this.props.sectionConfig.itemListViewEndpoint,\n      publishApi: this.publishApi,\n      handleBackButtonClick: this.handleBackButtonClick.bind(this),\n    };\n\n    return (\n      <CampaignAdminList {...props} />\n    );\n  }\n\n  /**\n   * Renders the Detail Edit Form for a Campaign.\n   */\n  renderDetailEditView() {\n    if (this.props.params.id <= 0) {\n      return this.renderCreateView();\n    }\n    const baseSchemaUrl = this.props.sectionConfig.form.campaignEditForm.schemaUrl;\n    const schemaUrl = `${baseSchemaUrl}/${this.props.params.id}`;\n\n    return (\n      <div className=\"fill-height\">\n        <Toolbar showBackButton handleBackButtonClick={this.handleBackButtonClick}>\n          <Breadcrumb multiline />\n        </Toolbar>\n\n        <div className=\"panel panel--padded panel--scrollable flexbox-area-grow form--inline\">\n          <FormBuilderLoader\n            handleAction={this.handleFormAction}\n            schemaUrl={schemaUrl}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Render the view for creating a new Campaign.\n   */\n  renderCreateView() {\n    const schemaUrl = this.props.sectionConfig.form.campaignCreateForm.schemaUrl;\n    return (\n      <div className=\"fill-height\">\n        <Toolbar showBackButton handleBackButtonClick={this.handleBackButtonClick}>\n          <Breadcrumb multiline />\n        </Toolbar>\n        <div className=\"panel panel--padded panel--scrollable flexbox-area-grow form--inline\">\n          <FormBuilderLoader\n            handleSubmit={this.handleCreateCampaignSubmit}\n            handleAction={this.handleFormAction}\n            schemaUrl={schemaUrl}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Hook to allow customisation of components being constructed\n   * by the Campaign DetailEdit FormBuilderLoader.\n   *\n   * @param {Object} Component - Component constructor.\n   * @param {Object} props - Props passed from FormBuilderLoader.\n   *\n   * @return {Object} - Instanciated React component\n   */\n  campaignEditCreateFn(Component, props) {\n    const url = this.props.sectionConfig.url;\n\n    // Route to the Campaigns index view when 'Cancel' is clicked.\n    if (props.name === 'action_cancel') {\n      const extendedProps = Object.assign({}, props, {\n        handleClick: (event) => {\n          event.preventDefault();\n          this.props.router.push(url);\n        },\n      });\n\n      return <Component key={props.id} {...extendedProps} />;\n    }\n\n    return <Component key={props.id} {...props} />;\n  }\n\n  /**\n   * Hook to allow customisation of components being constructed\n   * by the Campaign creation FormBuilderLoader.\n   *\n   * @param {Object} Component - Component constructor.\n   * @param {Object} props - Props passed from FormBuilderLoader.\n   *\n   * @return {Object} - Instanciated React component\n   */\n  campaignAddCreateFn(Component, props) {\n    const url = this.props.sectionConfig.url;\n\n    // Route to the Campaigns index view when 'Cancel' is clicked.\n    if (props.name === 'action_cancel') {\n      const extendedProps = Object.assign({}, props, {\n        handleClick: (event) => {\n          event.preventDefault();\n          this.props.router.push(url);\n        },\n      });\n\n      return <Component key={props.name} {...extendedProps} />;\n    }\n\n    return <Component key={props.name} {...props} />;\n  }\n\n  /**\n   * Hook to allow customisation of components being constructed\n   * by the Campaign list FormBuilderLoader.\n   *\n   * @param {Object} Component - Component constructor.\n   * @param {Object} props - Props passed from FormBuilderLoader.\n   *\n   * @return object - Instanciated React component\n   */\n  campaignListCreateFn(Component, props) {\n    const sectionUrl = this.props.sectionConfig.url;\n    const typeUrlParam = 'set';\n\n    if (props.schemaComponent === 'GridField') {\n      const extendedProps = Object.assign({}, props, {\n        data: Object.assign({}, props.data, {\n          handleDrillDown: (event, record) => {\n            this.props.router.push(`${sectionUrl}/${typeUrlParam}/${record.ID}/show`);\n          },\n          handleEditRecord: (event, id) => {\n            this.props.router.push(`${sectionUrl}/${typeUrlParam}/${id}/edit`);\n          },\n        }),\n      });\n\n      return <Component key={extendedProps.name} {...extendedProps} />;\n    }\n\n    return <Component key={props.name} {...props} />;\n  }\n\n  addCampaign() {\n    const path = this.getActionRoute(0, 'create');\n    this.props.router.push(path);\n  }\n\n  /**\n   * Generate route with the given id and view\n   *\n   * @param {Number} id\n   * @param {String} view\n   * @return {String}\n   */\n  getActionRoute(id, view) {\n    return `${this.props.sectionConfig.url}/set/${id}/${view}`;\n  }\n}\n\nCampaignAdmin.propTypes = {\n  breadcrumbsActions: React.PropTypes.object.isRequired,\n  campaignId: React.PropTypes.string,\n  sectionConfig: React.PropTypes.shape({\n    publishEndpoint: React.PropTypes.shape({\n      url: React.PropTypes.string,\n      method: React.PropTypes.string,\n    }),\n    form: React.PropTypes.shape({\n      EditForm: React.PropTypes.shape({\n        schemaUrl: React.PropTypes.string,\n      }),\n      campaignEditForm: React.PropTypes.shape({\n        schemaUrl: React.PropTypes.string,\n      }),\n      campaignCreateForm: React.PropTypes.shape({\n        schemaUrl: React.PropTypes.string,\n      }),\n    }),\n  }),\n  securityId: React.PropTypes.string.isRequired,\n  view: React.PropTypes.string,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  const sectionConfig = state.config.sections.find((section) => section.name === sectionConfigKey);\n  const formID = `${sectionConfig.form.campaignEditForm.schemaUrl}/${ownProps.params.id}`;\n  const selector = formValueSelector(formID);\n  const title = selector(state, 'Name');\n\n  return {\n    config: state.config,\n    campaignId: state.campaign.campaignId,\n    view: state.campaign.view,\n    breadcrumbs: state.breadcrumbs,\n    sectionConfig,\n    securityId: state.config.SecurityID,\n    title,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    breadcrumbsActions: bindActionCreators(breadcrumbsActions, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CampaignAdmin));\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/containers/CampaignAdmin/CampaignAdmin.js","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 7\n// module chunks = 0","module.exports = ReactRedux;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactRedux\"\n// module id = 8\n// module chunks = 0","module.exports = ReduxForm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReduxForm\"\n// module id = 9\n// module chunks = 0","module.exports = Redux;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Redux\"\n// module id = 10\n// module chunks = 0","module.exports = Backend;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Backend\"\n// module id = 11\n// module chunks = 0","module.exports = BreadcrumbsActions;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"BreadcrumbsActions\"\n// module id = 12\n// module chunks = 0","module.exports = Breadcrumb;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Breadcrumb\"\n// module id = 13\n// module chunks = 0","module.exports = SilverStripeComponent;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"SilverStripeComponent\"\n// module id = 14\n// module chunks = 0","module.exports = FormAction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"FormAction\"\n// module id = 15\n// module chunks = 0","module.exports = i18n;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"i18n\"\n// module id = 16\n// module chunks = 0","module.exports = Toolbar;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Toolbar\"\n// module id = 17\n// module chunks = 0","module.exports = FormBuilderLoader;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"FormBuilderLoader\"\n// module id = 18\n// module chunks = 0","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as breadcrumbsActions from 'state/breadcrumbs/BreadcrumbsActions';\nimport * as recordActions from 'state/records/RecordsActions';\nimport * as campaignActions from 'state/campaign/CampaignActions';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\nimport Accordion from 'components/Accordion/Accordion';\nimport AccordionBlock from 'components/Accordion/AccordionBlock';\nimport ListGroupItem from 'components/ListGroup/ListGroupItem';\nimport Toolbar from 'components/Toolbar/Toolbar';\nimport FormAction from 'components/FormAction/FormAction';\nimport CampaignAdminItem from './CampaignAdminItem';\nimport Breadcrumb from 'components/Breadcrumb/Breadcrumb';\nimport Preview from 'components/Preview/Preview';\nimport i18n from 'i18n';\n\nconst sectionConfigKey = 'SilverStripe\\\\CMS\\\\Controllers\\\\CMSPagesController';\n\n/**\n * Represents a campaign list view\n */\nclass CampaignAdminList extends SilverStripeComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.handlePublish = this.handlePublish.bind(this);\n    this.handleItemSelected = this.handleItemSelected.bind(this);\n    this.setBreadcrumbs = this.setBreadcrumbs.bind(this);\n    this.handleCloseItem = this.handleCloseItem.bind(this);\n  }\n\n  componentDidMount() {\n    const fetchURL = this.props.itemListViewEndpoint.url.replace(/:id/, this.props.campaignId);\n    super.componentDidMount();\n    this.setBreadcrumbs();\n\n    // Only load record if not already present\n    if (!Object.keys(this.props.record).length) {\n      this.props.recordActions\n        .fetchRecord(this.props.treeClass, 'get', fetchURL)\n        .then(this.setBreadcrumbs);\n    }\n  }\n\n  /**\n   * Update breadcrumbs for this view\n   */\n  setBreadcrumbs() {\n    // Setup breadcrumbs if record is loaded\n    if (!this.props.record) {\n      return;\n    }\n\n    // Push breadcrumb\n    const breadcrumbs = [{\n      text: i18n._t('CampaignAdmin.CAMPAIGN', 'Campaigns'),\n      href: this.props.sectionConfig.url,\n    }];\n    breadcrumbs.push({\n      text: this.props.record.Name,\n      href: `${this.props.sectionConfig.url}/set/${this.props.campaignId}/show`,\n    });\n\n    this.props.breadcrumbsActions.setBreadcrumbs(breadcrumbs);\n  }\n\n  /**\n   * Renders a list of items in a Campaign.\n   *\n   * @return object\n   */\n  render() {\n    let itemId = this.props.campaign.changeSetItemId;\n    let itemLinks = null;\n    const selectedClass = (!itemId) ? 'campaign-admin__campaign--hide-preview' : '';\n    const campaignId = this.props.campaignId;\n    const campaign = this.props.record;\n\n    // Trigger different layout when preview is enabled\n    const itemGroups = this.groupItemsForSet();\n\n    // Get items in this set\n    let accordionBlocks = [];\n\n    Object.keys(itemGroups).forEach(className => {\n      const group = itemGroups[className];\n      const groupCount = group.items.length;\n\n      let listGroupItems = [];\n      let title = `${groupCount} ${groupCount === 1 ? group.singular : group.plural}`;\n      let groupid = `Set_${campaignId}_Group_${className}`;\n\n      // Create items for this group\n      group.items.forEach(item => {\n        // Auto-select first item\n        if (!itemId) {\n          itemId = item.ID;\n        }\n        const selected = (itemId === item.ID);\n\n        // Check links\n        if (selected && item._links) {\n          itemLinks = item._links;\n        }\n\n        // Add extra css class for published items\n        const itemClassNames = [];\n        if (item.ChangeType === 'none' || campaign.State === 'published') {\n          itemClassNames.push('list-group-item--inactive');\n        }\n        if (selected) {\n          itemClassNames.push('active');\n        }\n\n        listGroupItems.push(\n          <ListGroupItem\n            key={item.ID}\n            className={itemClassNames.join(' ')}\n            handleClick={this.handleItemSelected}\n            handleClickArg={item.ID}\n          >\n            <CampaignAdminItem item={item} campaign={this.props.record} />\n          </ListGroupItem>\n        );\n      });\n\n      // Merge into group\n      accordionBlocks.push(\n        <AccordionBlock key={groupid} groupid={groupid} title={title}>\n          {listGroupItems}\n        </AccordionBlock>\n      );\n    });\n\n    // Set body\n    const pagesLink = [\n      this.props.config.absoluteBaseUrl,\n      this.props.config.sections.find((section) => section.name === sectionConfigKey).url,\n    ].join('');\n\n    const body = accordionBlocks.length\n      ? (<Accordion>{accordionBlocks}</Accordion>)\n      : (\n        <div className=\"alert alert-warning\" role=\"alert\">\n          <strong>This campaign is empty.</strong> You can add items to a campaign by\n          selecting <em>Add to campaign</em> from within the <em>More Options </em>\n          popup on <a href={pagesLink}>pages</a> and files.\n        </div>\n      );\n    const bodyClass = [\n      'panel', 'panel--padded', 'panel--scrollable', 'flexbox-area-grow',\n    ];\n\n    return (\n      <div className={`fill-width campaign-admin__campaign ${selectedClass}`}>\n        <div className=\"fill-height campaign-admin__campaign-items\" aria-expanded=\"true\">\n          <Toolbar showBackButton handleBackButtonClick={this.props.handleBackButtonClick}>\n            <Breadcrumb multiline />\n          </Toolbar>\n          <div className={bodyClass.join(' ')}>\n            {body}\n          </div>\n          <div className=\"toolbar toolbar--south\">\n            {this.renderButtonToolbar()}\n          </div>\n        </div>\n        <Preview itemLinks={itemLinks} itemId={itemId} onBack={this.handleCloseItem} />\n      </div>\n    );\n  }\n\n  /**\n   * Callback for items being clicked on\n   *\n   * @param {object} event\n   * @param {number} itemId\n   */\n  handleItemSelected(event, itemId) {\n    this.props.campaignActions.selectChangeSetItem(itemId);\n  }\n\n  handleCloseItem() {\n    this.props.campaignActions.selectChangeSetItem(null);\n  }\n\n  renderButtonToolbar() {\n    const items = this.getItems();\n\n    // let itemSummaryLabel;\n    if (!items || !items.length) {\n      return <div className=\"btn-toolbar\"></div>;\n    }\n\n    // let itemSummaryLabel = i18n.sprintf(\n    //   items.length === 1\n    //     ? i18n._t('CampaignAdmin.ITEM_SUMMARY_SINGULAR')\n    //     : i18n._t('CampaignAdmin.ITEM_SUMMARY_PLURAL'),\n    //   items.length\n    // );\n\n    let actionProps = {};\n\n    if (this.props.record.State === 'open') {\n      actionProps = Object.assign(actionProps, {\n        title: i18n._t('CampaignAdmin.PUBLISHCAMPAIGN'),\n        buttonStyle: 'primary',\n        loading: this.props.campaign.isPublishing,\n        handleClick: this.handlePublish,\n        icon: 'rocket',\n      });\n    } else if (this.props.record.State === 'published') {\n      // TODO Implement \"revert\" feature\n      actionProps = Object.assign(actionProps, {\n        title: i18n._t('CampaignAdmin.REVERTCAMPAIGN'),\n        buttonStyle: 'secondary-outline',\n        icon: 'back-in-time',\n        disabled: true,\n      });\n    }\n\n    // TODO Fix indicator positioning\n    // const itemCountIndicator = (\n    //   <span className=\"text-muted\">\n    //     <span className=\"label label-warning label--empty\">&nbsp;</span>\n    //     &nbsp;{itemSummaryLabel}\n    //   </span>\n    // );\n\n    return (\n      <div className=\"btn-toolbar\">\n        <FormAction {...actionProps} />\n      </div>\n    );\n  }\n\n  /**\n   * @return {array}\n   */\n  getItems() {\n    if (this.props.record && this.props.record._embedded) {\n      return this.props.record._embedded.items;\n    }\n\n    return null;\n  }\n\n  /**\n   * Group items for changeset display\n   *\n   * @return {object}\n   */\n  groupItemsForSet() {\n    const groups = {};\n    const items = this.getItems();\n    if (!items) {\n      return groups;\n    }\n\n    // group by whatever\n    items.forEach(item => {\n      // Create new group if needed\n      const classname = item.BaseClass;\n\n      if (!groups[classname]) {\n        groups[classname] = {\n          singular: item.Singular,\n          plural: item.Plural,\n          items: [],\n        };\n      }\n\n      // Push items\n      groups[classname].items.push(item);\n    });\n\n    return groups;\n  }\n\n  handlePublish(e) {\n    e.preventDefault();\n    this.props.campaignActions.publishCampaign(\n      this.props.publishApi,\n      this.props.treeClass,\n      this.props.campaignId\n    );\n  }\n\n}\n\nCampaignAdminList.propTypes = {\n  campaign: React.PropTypes.shape({\n    isPublishing: React.PropTypes.bool.isRequired,\n    changeSetItemId: React.PropTypes.number,\n  }),\n  breadcrumbsActions: React.PropTypes.object.isRequired,\n  campaignActions: React.PropTypes.object.isRequired,\n  publishApi: React.PropTypes.func.isRequired,\n  record: React.PropTypes.object.isRequired,\n  recordActions: React.PropTypes.object.isRequired,\n  sectionConfig: React.PropTypes.object.isRequired,\n  handleBackButtonClick: React.PropTypes.func,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  // Find record specific to this item\n  let record = null;\n  const treeClass = ownProps.sectionConfig.treeClass;\n  if (state.records && state.records[treeClass] && ownProps.campaignId) {\n    record = state.records[treeClass][parseInt(ownProps.campaignId, 10)];\n  }\n  return {\n    config: state.config,\n    record: record || {},\n    campaign: state.campaign,\n    treeClass,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    breadcrumbsActions: bindActionCreators(breadcrumbsActions, dispatch),\n    recordActions: bindActionCreators(recordActions, dispatch),\n    campaignActions: bindActionCreators(campaignActions, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CampaignAdminList);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/containers/CampaignAdmin/CampaignAdminList.js","module.exports = RecordsActions;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"RecordsActions\"\n// module id = 20\n// module chunks = 0","import ACTION_TYPES from './CampaignActionTypes';\nimport RECORD_ACTION_TYPES from 'state/records/RecordsActionTypes';\n\n\n/**\n * Set selected changeset item\n *\n * @param {number} changeSetItemId ID of changesetitem in the currently visible changeset\n * @return {object}\n */\nexport function selectChangeSetItem(changeSetItemId) {\n  return {\n    type: ACTION_TYPES.SET_CAMPAIGN_SELECTED_CHANGESETITEM,\n    payload: { changeSetItemId },\n  };\n}\n\n/**\n * Show specified campaign set\n *\n * @param {number} campaignId ID of the Campaign to show.\n * @param {string} view The view mode to display the Campaign in.\n * @return {function}\n */\nexport function showCampaignView(campaignId, view) {\n  return (dispatch) => {\n    dispatch({\n      type: ACTION_TYPES.SET_CAMPAIGN_ACTIVE_CHANGESET,\n      payload: { campaignId, view },\n    });\n  };\n}\n\n/**\n * Publish a campaign and all its items\n *\n * @param {Function} publishApi See lib/Backend\n * @param {string} recordType\n * @param {number} campaignId\n * @return {Object}\n */\nexport function publishCampaign(publishApi, recordType, campaignId) {\n  return (dispatch) => {\n    dispatch({\n      type: ACTION_TYPES.PUBLISH_CAMPAIGN_REQUEST,\n      payload: { campaignId },\n    });\n\n    publishApi({ id: campaignId })\n      .then((data) => {\n        dispatch({\n          type: ACTION_TYPES.PUBLISH_CAMPAIGN_SUCCESS,\n          payload: { campaignId },\n        });\n        dispatch({\n          type: RECORD_ACTION_TYPES.FETCH_RECORD_SUCCESS,\n          payload: { recordType, data },\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: ACTION_TYPES.PUBLISH_CAMPAIGN_FAILURE,\n          payload: { error },\n        });\n      });\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/state/campaign/CampaignActions.js","export default {\n  SET_CAMPAIGN_ACTIVE_CHANGESET: 'SET_CAMPAIGN_ACTIVE_CHANGESET',\n  SET_CAMPAIGN_SELECTED_CHANGESETITEM: 'SET_CAMPAIGN_SELECTED_CHANGESETITEM',\n  PUBLISH_CAMPAIGN_REQUEST: 'PUBLISH_CAMPAIGN_REQUEST',\n  PUBLISH_CAMPAIGN_SUCCESS: 'PUBLISH_CAMPAIGN_SUCCESS',\n  PUBLISH_CAMPAIGN_FAILURE: 'PUBLISH_CAMPAIGN_FAILURE',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/state/campaign/CampaignActionTypes.js","module.exports = RecordsActionTypes;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"RecordsActionTypes\"\n// module id = 23\n// module chunks = 0","module.exports = Accordion;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Accordion\"\n// module id = 24\n// module chunks = 0","module.exports = AccordionBlock;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"AccordionBlock\"\n// module id = 25\n// module chunks = 0","module.exports = ListGroupItem;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ListGroupItem\"\n// module id = 26\n// module chunks = 0","import React from 'react';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\nimport i18n from 'i18n';\n\n/**\n * Describes an individual campaign item\n */\nclass CampaignAdminItem extends SilverStripeComponent {\n\n  render() {\n    let thumbnail = null;\n    const badge = {};\n    const item = this.props.item;\n    const campaign = this.props.campaign;\n\n    // @todo customise these status messages for already-published changesets\n\n    // Change badge. If the campaign has been published,\n    // don't apply a badge at all\n    if (campaign.State === 'open') {\n      switch (item.ChangeType) {\n        case 'created':\n          badge.className = 'label label-warning list-group-item__status';\n          badge.Title = i18n._t('CampaignAdmin.DRAFT', 'Draft');\n          break;\n        case 'modified':\n          badge.className = 'label label-warning list-group-item__status';\n          badge.Title = i18n._t('CampaignAdmin.MODIFIED', 'Modified');\n          break;\n        case 'deleted':\n          badge.className = 'label label-error list-group-item__status';\n          badge.Title = i18n._t('CampaignAdmin.REMOVED', 'Removed');\n          break;\n        case 'none':\n        default:\n          badge.className = 'label label-success list-group-item__status';\n          badge.Title = i18n._t('CampaignAdmin.NO_CHANGES', 'No changes');\n          break;\n      }\n    }\n\n    // Linked items\n    let links = (\n      <span\n        className=\"list-group-item__info campaign-admin__item-links--has-links font-icon-link\"\n      >3 linked items</span>\n    );\n\n    // Thumbnail\n    if (item.Thumbnail) {\n      thumbnail = (\n        <span className=\"list-group-item__thumbnail\">\n          <img alt={item.Title} src={item.Thumbnail} />\n        </span>\n      );\n    }\n\n    return (\n      <div className=\"fill-width\">\n        {thumbnail}\n        <div className=\"list-group-item__details\">\n          <h4 className=\"list-group-item__heading\">{item.Title}</h4>\n          <span\n            className=\"list-group-item__info campaign-admin__item-links--is-linked font-icon-link\"\n          ></span>\n          {links}\n          {badge.className && badge.Title &&\n            <span className={badge.className}>{badge.Title}</span>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nCampaignAdminItem.propTypes = {\n  campaign: React.PropTypes.object.isRequired,\n  item: React.PropTypes.object.isRequired,\n};\n\nexport default CampaignAdminItem;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/containers/CampaignAdmin/CampaignAdminItem.js","module.exports = Preview;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Preview\"\n// module id = 28\n// module chunks = 0","import deepFreeze from 'deep-freeze-strict';\nimport ACTION_TYPES from './CampaignActionTypes';\n\nconst initialState = deepFreeze({\n  campaignId: null,\n  changeSetItemId: null,\n  isPublishing: false,\n  view: null,\n});\n\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n\n    case ACTION_TYPES.SET_CAMPAIGN_SELECTED_CHANGESETITEM:\n      return deepFreeze(Object.assign({}, state, {\n        changeSetItemId: action.payload.changeSetItemId,\n      }));\n\n    case ACTION_TYPES.SET_CAMPAIGN_ACTIVE_CHANGESET:\n      return deepFreeze(Object.assign({}, state, {\n        campaignId: action.payload.campaignId,\n        view: action.payload.view,\n        changeSetItemId: null,\n      }));\n\n    case ACTION_TYPES.PUBLISH_CAMPAIGN_REQUEST:\n      return deepFreeze(Object.assign({}, state, {\n        isPublishing: true,\n      }));\n\n    case ACTION_TYPES.PUBLISH_CAMPAIGN_SUCCESS:\n    case ACTION_TYPES.PUBLISH_CAMPAIGN_FAILURE:\n      return deepFreeze(Object.assign({}, state, {\n        isPublishing: false,\n      }));\n\n    default:\n      return state;\n\n  }\n}\n\nexport default reducer;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/state/campaign/CampaignReducer.js","module.exports = function deepFreeze (o) {\n  Object.freeze(o);\n\n  var oIsFunction = typeof o === \"function\";\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n\n  Object.getOwnPropertyNames(o).forEach(function (prop) {\n    if (hasOwnProp.call(o, prop)\n    && (oIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true )\n    && o[prop] !== null\n    && (typeof o[prop] === \"object\" || typeof o[prop] === \"function\")\n    && !Object.isFrozen(o[prop])) {\n      deepFreeze(o[prop]);\n    }\n  });\n  \n  return o;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deep-freeze-strict/index.js\n// module id = 30\n// module chunks = 0"],"sourceRoot":""}